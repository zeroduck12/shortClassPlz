------ìœ ì €í…Œì´ë¸”ì— userIDNumber ì¶”ê°€í•˜ê¸°, SEQUENCE ì¶”ê°€í•˜ì
CREATE SEQUENCE user_seq
START WITH 1
INCREMENT BY 1
nocache
; 

-- íšŒì›ê°€ì…í•œ íšŒì›ë“¤ì˜ ì •ë³´ë¥¼ ë‹´ì€ "USERí…Œì´ë¸” ìƒì„±"
CREATE TABLE "USER"(
	userIDNumber	number(10) PRIMARY KEY,
	userid			varchar2(300) UNIQUE,
	userpw			varchar2(300),
	username		varchar2(300),
	userphone		varchar2(300),
	zipcode			varchar2(100),
	addr			varchar2(300),
	addrdetail		varchar2(1000),
	addretc			varchar2(500)
);


INSERT INTO "USER" values(user_seq.nextval,'admin', 'admin123', 'í™ê¸¸ë™', '01012345678','10101', 'ì„œìš¸ì‹œ', 'ì†¡íŒŒêµ¬', '(ì ì‹¤ë™)');
SELECT * FROM "USER" u ;


-- ê²Œì‹œíŒ í…Œì´ë¸”ì—ì„œ ì‚¬ìš©í•  í…Œì´ë¸” ì‹œí€€ìŠ¤ ë§Œë“¤ê¸°
CREATE SEQUENCE board_seq
INCREMENT BY 1
START WITH 1;

--ê²Œì‹œíŒ í…Œì´ë¸”
CREATE TABLE tbl_board(
	boardnum		number(10) PRIMARY KEY,
	boardtitle		varchar2(300),
	boardcontents	varchar2(4000),
	username		varchar2(300),
	boarddate		DATE,
	boardreadcount	number(10)
);


INSERT INTO TBL_BOARD VALUES (board_seq.nextval, 'í…ŒìŠ¤íŠ¸ì œëª©', 'í…ŒìŠ¤íŠ¸ë‚´ìš©', 'í…ŒìŠ¤íŠ¸ì‘ì„±ì', SYSDATE, 3);

SELECT  * FROM tbl_board;

-- ê²Œì‹œíŒ í˜ì´ì§• ì²˜ë¦¬í•˜ê¸°
--rowë„˜ë²„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ 10ê±´ì”© ìë¥¼ ê²ƒì´ë‹¤
--ì„œë¸Œì¿¼ë¦¬ì•ˆì—ì„œë¸Œì¿¼ë¦¬ì•ˆì—ì„œë¸Œì¿¼ë¦¬(ì´ê²Œ ìµœì¢… í˜ì´ì§• ì²˜ë¦¬í•˜ëŠ” ë¶€ë¶„ì— ë„£ì„ ê²ƒì´ë©° where êµ¬ë¬¸ì˜ 41,50ë¶€ë¶„ì„ ë³€ìˆ˜ë¡œ ë„£ì„ ê²ƒ)
SELECT * from(
			SELECT rownum r, A.* FROM (SELECT * FROM TBL_BOARD tb 
										ORDER BY BOARDNUM DESC 
										) A
		) B
WHERE B.r BETWEEN 11 and 20
;

-- readcount ëŠ˜ë¦¬ê¸°
-- UPDATE TBL_BOARD  SET boardreadcount = boardreadcount+1
-- WHERE boardnum = 2 ;


-- ëŒ“ê¸€ ì‹œí€€ìŠ¤
CREATE SEQUENCE reply_seq
START WITH 1
INCREMENT BY 1
nocache
; 


-- ëŒ“ê¸€ ì“°ëŠ” ì¹¸ ì¶”ê°€
CREATE TABLE tbl_reply(
	replynum		number(10) PRIMARY KEY,
	replycontents	varchar2(600),
	username		varchar2(300),
	password		varchar2(300),
	boardnum		number(10),
	CONSTRAINT rep_bd_fk FOREIGN key(boardnum) REFERENCES tbl_board(boardnum)
);


INSERT INTO tbl_reply VALUES (reply_seq.nextval, 'ëŒ“ê¸€íƒœìŠ¤íŠ¸ë‚´ìš©', 'ëŒ“ê¸€ í…ŒìŠ¤íŠ¸ ì‘ì„±ì', 'ëŒ“ê¸€íƒœìŠ¤íŠ¸ë¹„ë°€ë²ˆí˜¸', 1);
-- ëŒ“ê¸€ ë

-- ì•„ì´í…œ ì‹œí€€ìŠ¤
CREATE SEQUENCE itemnumber_seq
START WITH 1
INCREMENT BY 1
nocache
; 

CREATE TABLE itemlist(
	itemname	varchar2(300) PRIMARY key,
	price		number(10),
	explain		varchar2(1000),
	spec		varchar2(100),
	size1		varchar2(300),
	size2		varchar2(300),
	size3		varchar2(300),
	imgnumber	number(10)
);
INSERT INTO itemlist VALUES ('ê³ êµ¬ë§ˆ ê°€ë“ ì”°ìŠ¤í‹°ì»¤', 2300,'ê°€ì„ì— ì˜ ì–´ìš¸ë¦¬ëŠ” ê³ êµ¬ë§ˆ ì”°ìŠ¤í‹°ì»¤ì—ìš”!<br>ê³ êµ¬ë§ˆ ì¹¨ë‚­ì´ ë”°ëœ»í•´ë³´ì´ì£ ?â¤ï¸â€ğŸ”¥<br>', 'ë¬´ê´‘ ìœ í¬ì§€' ,'65 x 150 mm', NULL, NULL, itemnumber_seq.nextval);
INSERT INTO itemlist VALUES ('ë‹¬ì½¤ë”¸ê¸° ì”°ìŠ¤í‹°ì»¤', 2300,'3ì›” ì‹ ìƒ ê³µê°œâœ§ï½¥ï¾Ÿ: *âœ§ï½¥ï¾Ÿ:*<br>ì²« ë²ˆì§¸ ì‹ ìƒì€ "ë‹¬ì½¤ë”¸ê¸°" ì…ë‹ˆë‹¤!<br>ê·¸ëƒ¥ ë¨¹ì–´ë„ ë§›ìˆì§€ë§Œ ìƒí¬ë¦¼ê³¼ ë¨¹ëŠ” ë”¸ê¸°ëŠ” ë” ë‹¬ì½¤í•˜ê³  ë§›ìˆëŠ” ê±° ê°™ì•„ìš”ğŸ˜‹<br>', 'ë¬´ê´‘ ìœ í¬ì§€' ,'65 x 150 mm', NULL, NULL, itemnumber_seq.nextval);
INSERT INTO itemlist VALUES ('ëœ¨ê°œì§ˆ ì”°ìŠ¤í‹°ì»¤', 2300,'3ì›” ì‹ ìƒ ê³µê°œâœ§ï½¥ï¾Ÿ: *âœ§ï½¥ï¾Ÿ:*<br>ë„¤ ë²ˆì§¸ ì‹ ìƒì€ "ëœ¨ê°œì§ˆ"ì…ë‹ˆë‹¹<br>í¬ê·¼í¬ê·¼ ë‹ˆíŠ¸ëŠ” ì‚¬ë‘ì´ì—ìš”ğŸ˜†<br>', 'ë¬´ê´‘ ìœ í¬ì§€' ,'65 x 150 mm', NULL, NULL, itemnumber_seq.nextval);
INSERT INTO itemlist VALUES ('ë ˆëª¨ë„¤ì´ë“œ ì”°ìŠ¤í‹°ì»¤', 2300,'3ì›” ì‹ ìƒ ê³µê°œâœ§ï½¥ï¾Ÿ: *âœ§ï½¥ï¾Ÿ:*<br>ì„¸ ë²ˆì§¸ ì‹ ìƒì€ "ë ˆëª¨ë„¤ì´ë“œ"!<br>í•œì… ë² ì–´ ë¬¸ ë ˆëª¬ ë„ˆë¬´ ê·€ì—¬ì›Œìš”ğŸ˜†<br>', 'ë¬´ê´‘ ìœ í¬ì§€' ,'65 x 150 mm', NULL, NULL, itemnumber_seq.nextval);
INSERT INTO itemlist VALUES ('ëª¨ì¡°ì§€ ì„¸íŠ¸ (ì´ 10ë§¤)', 2200,'ì´ 10ë§¤(5ì¢…x2ë§¤)ë¡œ êµ¬ì„±ëœ set ìƒí’ˆì…ë‹ˆë‹¤.<br>âš ï¸í•˜íŠ¸ ê±°ìš¸ ëª¨ì¡°ì§€ 1mm ì¹¼ì„  ë°€ë¦¼ìˆìŠµë‹ˆë‹¤.', NULL,'ì•½ 80x80 mm', 'ì•½ 95x55 mm', NULL, itemnumber_seq.nextval);
INSERT INTO itemlist VALUES ('ë¯¸ìˆ ì‹œê°„ ì”°ìŠ¤í‹°ì»¤', 2300,' â­ï¸íŠ¸ì›¬í‹°í¼ 10ì›” 4ì¼ openâ­<br>ï¸ì•Œë¡ë‹¬ë¡ ë„¤ë²ˆì§¸ ì”°ìŠ¤í‹°ì»¤ğŸ¨ğŸ¨<br>ì²« ë§ˆì¼“ ì˜¤í”ˆí•˜ê¸° ì „ë¶€í„° ìƒê°í–ˆë˜ ë„ì•ˆì„ ì´ì œ ê³µê°œí•˜ê²Œ ëì–´ìš”ğŸ˜†<br>ë½€ì§í•œ ë‚˜ë´‰ì´ ì°¾ì•„ë³´ì„¸ìš”<br>ï¸', 'ë¬´ê´‘ ìœ í¬ì§€' ,'65 x 150 mm', NULL, NULL, itemnumber_seq.nextval);
INSERT INTO itemlist VALUES ('ì„ ë¬¼í¬ì¥ ì”°ìŠ¤í‹°ì»¤', 2300,' â­ï¸íŠ¸ì›¬í‹° í¼ 10ì›” 4ì¼ openâ­<br>ï¸ì´ì œì•¼ ì˜¬ë¦¬ëŠ” ì‹ ìƒ ì²« ê°œë³„ ì‚¬ì§„ì´ì—ìš”ğŸ¥²<br>ì„ ë¬¼í¬ì¥ ì”°ìŠ¤í‹°ì»¤(ë°°ì´ë¹„ ver.)ì…ë‹ˆë‹¹ğŸ’•<br>ì„ ë¬¼ ìƒì ëª¨ì¡°ì§€ì™€ ì„¸íŠ¸ì—ìš”~!<br>', 'ë¬´ê´‘ ìœ í¬ì§€' ,'65 x 150 mm', NULL, NULL, itemnumber_seq.nextval);
INSERT INTO itemlist VALUES ('ìˆ˜ë°• í™”ì±„ ë–¡ ë©”ëª¨ì§€', 1500,'ìˆ˜ë°• í™”ì±„ ë–¡ ë©”ëª¨ì§€<br>', 'ë¬´ê´‘ ìœ í¬ì§€' ,'90 x 90 mm', '50ë§¤ ë‚´ì™¸', NULL, itemnumber_seq.nextval);
INSERT INTO itemlist VALUES ('ì¥¬ìŠ¤ ë°ì½” ìŠ¤í‹°ì»¤ ì„¸íŠ¸(3ë§¤)', 1500,'<p>ì´ 3ë§¤ë¡œ êµ¬ì„±ëœ ì„¸íŠ¸ ìƒí’ˆì…ë‹ˆë‹¤.<br>', 'ìœ ê´‘ pvcìº˜ì§€' ,'150 x 40 mm', NULL, NULL, itemnumber_seq.nextval);
INSERT INTO itemlist VALUES ('ìº í•‘ì´ ì¢‹ì•„ ì”°ìŠ¤í‹°ì»¤', 2300,'â­ï¸íŠ¸ì›¬í‹°í¼ 10ì›” 4ì¼ openâ­<br>ï¸ë‘ë²ˆì§¸ ìŠ¤í‹°ì»¤ í…Œë§ˆëŠ” ìº í•‘ì´ì—ìš”.<br>êµ¬ì›Œì§€ê³  ìˆëŠ” ë§ˆì‹œë©œë¡œ í‘œì •ì„ ë´ì£¼ì„¸ìš”ğŸ˜†<br>', 'ë¬´ê´‘ ìœ í¬ì§€' ,'65 x 150 mm', NULL, NULL, itemnumber_seq.nextval);
INSERT INTO itemlist VALUES ('íŠ¤ë¦½ê°€ë“  ì”°ìŠ¤í‹°ì»¤', 2300,'3ì›” ì‹ ìƒ ê³µê°œâœ§ï½¥ï¾Ÿ: *âœ§ï½¥ï¾Ÿ:*<br>ë‘ ë²ˆì§¸ ì‹ ìƒì€ "íŠ¤ë¦½ê°€ë“ "ì´ì—ìš”ğŸŒ·<br><br>íŠ¤ë¦½ì€ ìƒ‰ì´ ì •ë§ ë‹¤ì–‘í•œë°,<br>ì €ëŠ” ì£¼í™©ìƒ‰ì´ ì œì¼ ì˜ˆë» ë³´ì´ë”ë¼êµ¬ìš”!<br>ì˜ˆìœ íŠ¤ë¦½ ê°€ë“í•œ ê°€ë“ ìœ¼ë¡œ ë†€ëŸ¬ ì˜¤ì„¸ìš”ğŸ§¡<br>', 'ë¬´ê´‘ ìœ í¬ì§€' ,'65 x 150 mm', NULL, NULL, itemnumber_seq.nextval);

SELECT  * FROM itemlist;


--  ì¥ë°”êµ¬ë‹ˆ í…Œì´ë¸”ë§Œë“¤ê¸° : basket
CREATE TABLE basket(
	userIDNumber 	number(10),
	itemname		varchar2(300),
	price			number(10),
	howmany			number(10),
	CONSTRAINT basket_user_fk FOREIGN key(userIDNumber) REFERENCES "USER"(userIDNumber)
);

INSERT INTO BASKET values(1, 'ê³ êµ¬ë§ˆìŠ¤í‹°ì»¤~', 2300, 5 );
SELECT * FROM basket;

SELECT * FROM (
	SELECT rownum r, A.* FROM 
		(SELECT * FROM basket where userIDNumber=1 ORDER BY userIDNumber DESC) A ) B
WHERE 	B.r BETWEEN 1 AND 10



--update basket set howmany = 5+1 WHERE userIDNumber = 1 AND itemname = 'ìº í•‘ì´ ì¢‹ì•„ ì”°ìŠ¤í‹°ì»¤';

--SELECT sum(howmany)*sum(PRICE)  FROM basket WHERE USERIDNUMBER = 1;

--SELECT * FROM BASKET b ;
--SELECT howmany  FROM basket WHERE USERIDNUMBER = 1;
--SELECT PRICE FROM basket WHERE USERIDNUMBER = 1;
--SELECT howmany*price AS ì†Œê³„ FROM basket WHERE USERIDNUMBER = 1;


--SELECT SUM(price) FROM basket WHERE USERIDNUMBER = 1;


--SELECT SUM(total_price) FROM (SELECT SUM(howmany*price) as total_price FROM basket WHERE useridnumber = 1);

